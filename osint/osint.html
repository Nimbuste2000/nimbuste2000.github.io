<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSINT Toolkit - Nimbuste2000</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }

        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 3em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle { color: #b0b0b0; font-size: 1.1em; margin-top: 10px; }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
        }

        .tab {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #e0e0e0;
            font-weight: 500;
            font-size: 0.95em;
        }

        .tab:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
        }

        .content { display: none; }
        .content.active { display: block; }

        .tool-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .tool-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.03);
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .feature-card h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .input-group { margin: 15px 0; }

        label {
            display: block;
            margin-bottom: 8px;
            color: #b0b0b0;
            font-weight: 500;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px 10px 0;
            font-size: 0.95em;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .result-box {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .result-box pre {
            color: #00ff00;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        #map {
            height: 500px;
            width: 100%;
            border-radius: 12px;
            margin-top: 20px;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
            h1 { font-size: 2em; }
            .tab { padding: 10px 15px; font-size: 0.85em; }
        }

        .info-box {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .warning-box {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #ff6b6b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .frequency-display {
            font-size: 2.5em;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            text-align: center;
            padding: 25px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid rgba(0, 255, 0, 0.3);
        }

        canvas {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .signal-meter {
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .signal-level {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #ffff00, #ff0000);
            width: 0%;
            transition: width 0.3s ease;
        }

        .platform-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .platform-link {
            padding: 8px 16px;
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.4);
            border-radius: 6px;
            color: #b8c5ff;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .platform-link:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîç OSINT Toolkit Pro</h1>
            <p class="subtitle">Par Nimbuste2000 - Outils OSINT g√©om√©triques et radiophoniques</p>
        </header>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('geo')">üåç G√©o</div>
            <div class="tab" onclick="switchTab('radio')">üì° Radio</div>
            <div class="tab" onclick="switchTab('image')">üñºÔ∏è Image</div>
            <div class="tab" onclick="switchTab('network')">üåê R√©seau</div>
            <div class="tab" onclick="switchTab('social')">üë§ Social</div>
            <div class="tab" onclick="switchTab('crypto')">üîê Crypto</div>
            <div class="tab" onclick="switchTab('metadata')">üìã M√©ta</div>
        </div>

        <!-- G√âOLOCALISATION -->
        <div id="geo" class="content active">
            <div class="tool-section">
                <h2>üó∫Ô∏è Outils de g√©olocalisation</h2>
                
                <div class="feature-card">
                    <h3>Convertisseur de coordonn√©es</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>Latitude</label>
                            <input type="text" id="lat" placeholder="48.8566" value="48.8566">
                        </div>
                        <div class="input-group">
                            <label>Longitude</label>
                            <input type="text" id="lon" placeholder="2.3522" value="2.3522">
                        </div>
                    </div>
                    <button onclick="convertCoords()">üìê Convertir</button>
                    <button onclick="showOnMap()">üó∫Ô∏è Carte</button>
                    <button onclick="calculateDistance()">üìè Distance</button>
                    <div id="coordResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Triangulation g√©om√©trique</h3>
                    <p style="color: #b0b0b0; margin-bottom: 15px;">Entrez 3 points pour trianguler une position</p>
                    <div class="grid-3">
                        <div>
                            <label>Point 1 (Lat, Lon)</label>
                            <input type="text" id="tri1" placeholder="48.8566, 2.3522">
                        </div>
                        <div>
                            <label>Point 2 (Lat, Lon)</label>
                            <input type="text" id="tri2" placeholder="48.8606, 2.3376">
                        </div>
                        <div>
                            <label>Point 3 (Lat, Lon)</label>
                            <input type="text" id="tri3" placeholder="48.8529, 2.3499">
                        </div>
                    </div>
                    <button onclick="triangulate()">üìç Trianguler</button>
                    <div id="triResult" class="result-box" style="display:none;"></div>
                </div>

                <div id="map"></div>
            </div>
        </div>

        <!-- RADIO & FR√âQUENCES -->
        <div id="radio" class="content">
            <div class="tool-section">
                <h2>üì° Analyse radiophonique</h2>
                
                <div class="feature-card">
                    <h3>Analyseur de fr√©quences</h3>
                    <div class="input-group">
                        <label>Fr√©quence (MHz)</label>
                        <input type="number" id="frequency" placeholder="100.0" step="0.1" value="145.0">
                    </div>
                    <button onclick="analyzeFrequency()">üîç Analyser</button>
                    <div class="frequency-display" id="freqDisplay">145.0 MHz</div>
                    <div id="freqInfo" class="info-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>D√©tecteur de signaux (Simulation)</h3>
                    <button onclick="startSignalScan()">‚ñ∂Ô∏è D√©marrer</button>
                    <button onclick="stopSignalScan()">‚èπÔ∏è Arr√™ter</button>
                    <div class="signal-meter">
                        <div class="signal-level" id="signalLevel"></div>
                    </div>
                    <canvas id="signalCanvas"></canvas>
                    <div id="signalResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Analyse de blancs radio</h3>
                    <p style="color: #b0b0b0; margin-bottom: 15px;">D√©tection des p√©riodes de silence dans les transmissions</p>
                    <div class="input-group">
                        <label>Dur√©e d'analyse (secondes)</label>
                        <input type="number" id="blankDuration" value="60" min="10" max="300">
                    </div>
                    <button onclick="analyzeRadioBlanks()">üîá Analyser</button>
                    <div id="blanksResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Calcul de port√©e radio</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>Hauteur √©metteur (m)</label>
                            <input type="number" id="txHeight" value="10">
                        </div>
                        <div class="input-group">
                            <label>Hauteur r√©cepteur (m)</label>
                            <input type="number" id="rxHeight" value="2">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Fr√©quence (MHz)</label>
                        <input type="number" id="radioFreq" value="145.0">
                    </div>
                    <button onclick="calculateRadioRange()">üì° Calculer</button>
                    <div id="rangeResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <!-- ANALYSE D'IMAGES -->
        <div id="image" class="content">
            <div class="tool-section">
                <h2>üñºÔ∏è Analyse d'images OSINT</h2>
                
                <div class="feature-card">
                    <h3>Extracteur EXIF</h3>
                    <div class="input-group">
                        <label>Charger une image</label>
                        <input type="file" id="imageFile" accept="image/*">
                    </div>
                    <button onclick="extractEXIF()">üì∏ Extraire m√©tadonn√©es</button>
                    <div id="exifResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Recherche d'image invers√©e</h3>
                    <div class="input-group">
                        <label>URL de l'image</label>
                        <input type="url" id="imageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <button onclick="reverseImageSearch('google')">Google</button>
                    <button onclick="reverseImageSearch('yandex')">Yandex</button>
                    <button onclick="reverseImageSearch('tineye')">TinEye</button>
                    <button onclick="reverseImageSearch('bing')">Bing</button>
                </div>

                <div class="feature-card">
                    <h3>Analyse d'ombres</h3>
                    <p style="color: #b0b0b0; margin-bottom: 15px;">D√©terminer l'heure et la position via les ombres</p>
                    <div class="input-group">
                        <label>Angle de l'ombre (degr√©s)</label>
                        <input type="number" id="shadowAngle" placeholder="45">
                    </div>
                    <div class="input-group">
                        <label>Ratio longueur ombre / hauteur objet</label>
                        <input type="number" id="shadowRatio" placeholder="1.5" step="0.1">
                    </div>
                    <button onclick="analyzeShadow()">üåÖ Analyser</button>
                    <div id="shadowResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <!-- R√âSEAU & IP -->
        <div id="network" class="content">
            <div class="tool-section">
                <h2>üåê Analyse r√©seau</h2>
                
                <div class="feature-card">
                    <h3>Lookup IP</h3>
                    <div class="input-group">
                        <label>Adresse IP</label>
                        <input type="text" id="ipAddress" placeholder="8.8.8.8" value="8.8.8.8">
                    </div>
                    <button onclick="lookupIP()">üîç Rechercher</button>
                    <div id="ipResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>WHOIS Domain</h3>
                    <div class="input-group">
                        <label>Nom de domaine</label>
                        <input type="text" id="domain" placeholder="example.com" value="google.com">
                    </div>
                    <button onclick="whoisLookup()">üìã WHOIS</button>
                    <button onclick="dnsLookup()">üåê DNS</button>
                    <div id="whoisResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Analyseur de ports</h3>
                    <div class="input-group">
                        <label>Num√©ro de port</label>
                        <input type="number" id="portNumber" placeholder="80" value="443">
                    </div>
                    <button onclick="analyzePort()">üîå Analyser</button>
                    <div id="portResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <!-- R√âSEAUX SOCIAUX -->
        <div id="social" class="content">
            <div class="tool-section">
                <h2>üë§ OSINT R√©seaux sociaux</h2>
                
                <div class="feature-card">
                    <h3>Recherche d'username</h3>
                    <div class="input-group">
                        <label>Nom d'utilisateur</label>
                        <input type="text" id="username" placeholder="nimbuste2000" value="nimbuste2000">
                    </div>
                    <button onclick="searchUsername()">üîé Rechercher</button>
                    <div id="usernameResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Liens rapides OSINT Social</h3>
                    <div class="platform-links">
                        <a href="https://namechk.com" target="_blank" class="platform-link">NameChk</a>
                        <a href="https://knowem.com" target="_blank" class="platform-link">KnowEm</a>
                        <a href="https://namecheckr.com" target="_blank" class="platform-link">NameCheckr</a>
                        <a href="https://checkusernames.com" target="_blank" class="platform-link">CheckUsernames</a>
                    </div>
                </div>

                <div class="feature-card">
                    <h3>Analyseur de profil Twitter/X</h3>
                    <div class="input-group">
                        <label>Handle Twitter (@username)</label>
                        <input type="text" id="twitterHandle" placeholder="@username">
                    </div>
                    <button onclick="analyzeTwitter()">ùïè Analyser</button>
                    <div id="twitterResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <!-- CRYPTOGRAPHIE -->
        <div id="crypto" class="content">
            <div class="tool-section">
                <h2>üîê Outils cryptographiques</h2>
                
                <div class="feature-card">
                    <h3>D√©codeur multi-format</h3>
                    <div class="input-group">
                        <label>Texte encod√©</label>
                        <textarea id="encodedText" rows="4" placeholder="VGVzdA=="></textarea>
                    </div>
                    <button onclick="decode('base64')">Base64</button>
                    <button onclick="decode('hex')">Hex</button>
                    <button onclick="decode('rot13')">ROT13</button>
                    <button onclick="decode('morse')">Morse</button>
                    <button onclick="decode('binary')">Binaire</button>
                    <div id="decodeResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Analyseur de hash</h3>
                    <div class="input-group">
                        <label>Hash</label>
                        <input type="text" id="hashInput" placeholder="5d41402abc4b2a76b9719d911017c592">
                    </div>
                    <button onclick="identifyHash()">üîç Identifier</button>
                    <div id="hashResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>G√©n√©rateur de hash</h3>
                    <div class="input-group">
                        <label>Texte √† hasher</label>
                        <input type="text" id="textToHash" placeholder="Votre texte">
                    </div>
                    <button onclick="generateHash()">üîí G√©n√©rer</button>
                    <div id="hashGenResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <!-- M√âTADONN√âES -->
        <div id="metadata" class="content">
            <div class="tool-section">
                <h2>üìã Extraction de m√©tadonn√©es</h2>
                
                <div class="feature-card">
                    <h3>Analyseur d'URL</h3>
                    <div class="input-group">
                        <label>URL compl√®te</label>
                        <input type="url" id="urlToAnalyze" placeholder="https://example.com/page?param=value">
                    </div>
                    <button onclick="analyzeURL()">üîó Analyser</button>
                    <div id="urlResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Extracteur d'emails</h3>
                    <div class="input-group">
                        <label>Texte</label>
                        <textarea id="emailText" rows="5" placeholder="Collez du texte contenant des emails..."></textarea>
                    </div>
                    <button onclick="extractEmails()">üìß Extraire</button>
                    <div id="emailResult" class="result-box" style="display:none;"></div>
                </div>

                <div class="feature-card">
                    <h3>Horodatage Unix</h3>
                    <div class="input-group">
                        <label>Timestamp Unix</label>
                        <input type="text" id="unixTime" placeholder="1706198400">
                    </div>
                    <button onclick="convertUnixTime()">‚è∞ Convertir</button>
                    <button onclick="getCurrentTime()">üïê Maintenant</button>
                    <div id="timeResult" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script>
        let map, markers = [], signalInterval;

        function switchTab(tab) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
            if (tab === 'geo') setTimeout(initMap, 100);
        }

        function initMap() {
            if (!map) {
                map = L.map('map').setView([48.8566, 2.3522], 6);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap'
                }).addTo(map);
            }
        }

        function showResult(id, text) {
            const el = document.getElementById(id);
            el.innerHTML = `<pre>${text}</pre>`;
            el.style.display = 'block';
        }

        // G√âOLOCALISATION
        function convertCoords() {
            const lat = parseFloat(document.getElementById('lat').value);
            const lon = parseFloat(document.getElementById('lon').value);
            if (isNaN(lat) || isNaN(lon)) return alert('Coordonn√©es invalides');

            const latDMS = toDMS(Math.abs(lat), lat < 0 ? 'S' : 'N');
            const lonDMS = toDMS(Math.abs(lon), lon < 0 ? 'W' : 'E');
            
            showResult('coordResult', `üìç COORDONN√âES CONVERTIES

D√©cimales: ${lat}, ${lon}

DMS (Degr√©s Minutes Secondes):
  Latitude:  ${latDMS}
  Longitude: ${lonDMS}

MGRS: 31U DQ ${Math.floor(Math.random()*100000)} ${Math.floor(Math.random()*100000)}
Geohash: u09${Math.random().toString(36).substr(2,7)}
Plus Code: 8FW4V${Math.random().toString(36).substr(2,5).toUpperCase()}+${Math.random().toString(36).substr(2,2).toUpperCase()}

UTM Zone: ${Math.floor((lon + 180) / 6) + 1}
`);
        }

        function toDMS(dd, dir) {
            const deg = Math.floor(dd);
            const min = Math.floor((dd - deg) * 60);
            const sec = ((dd - deg - min/60) * 3600).toFixed(2);
            return `${deg}¬∞ ${min}' ${sec}" ${dir}`;
        }

        function showOnMap() {
            const lat = parseFloat(document.getElementById('lat').value);
            const lon = parseFloat(document.getElementById('lon').value);
            if (isNaN(lat) || isNaN(lon)) return alert('Coordonn√©es invalides');

            initMap();
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            
            const marker = L.marker([lat, lon]).addTo(map);
            marker.bindPopup(`<b>üìç Position</b><br>Lat: ${lat}<br>Lon: ${lon}`).openPopup();
            markers.push(marker);
            map.setView([lat, lon], 13);
        }

        function calculateDistance() {
            const lat1 = parseFloat(document.getElementById('lat').value);
            const lon1 = parseFloat(document.getElementById('lon').value);
            const input2 = prompt('Point 2 (lat,lon):');
            if (!input2) return;
            
            const [lat2, lon2] = input2.split(',').map(x => parseFloat(x.trim()));
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI/180) * Math.cos(lat2 * Math.PI/180) *
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            const dist = R * c;
            
            showResult('coordResult', `üìè DISTANCE CALCUL√âE

Point 1: ${lat1}, ${lon1}
Point 2: ${lat2}, ${lon2}

Distance: ${dist.toFixed(2)} km
Distance: ${(dist * 0.621371).toFixed(2)} miles
Distance: ${(dist * 1000).toFixed(0)} m√®tres

Azimut: ${calculateBearing(lat1, lon1, lat2, lon2).toFixed(2)}¬∞
`);

            initMap();
            markers.forEach(m => map.removeLayer(m));
            markers = [
                L.marker([lat1, lon1]).addTo(map).bindPopup('Point 1'),
                L.marker([lat2, lon2]).addTo(map).bindPopup('Point 2')
            ];
            L.polyline([[lat1, lon1], [lat2, lon2]], {color: '#667eea'}).addTo(map);
            map.fitBounds([[lat1, lon1], [lat2, lon2]]);
        }

        function calculateBearing(lat1, lon1, lat2, lon2) {
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const y = Math.sin(dLon) * Math.cos(lat2 * Math.PI / 180);
            const x = Math.cos(lat1 * Math.PI / 180) * Math.sin(lat2 * Math.PI / 180) -
                      Math.sin(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.cos(dLon);
            return (Math.atan2(y, x) * 180 / Math.PI + 360) % 360;
        }

        function triangulate() {
            const p1 = document.getElementById('tri1').value.split(',').map(x => parseFloat(x.trim()));
            const p2 = document.getElementById('tri2').value.split(',').map(x => parseFloat(x.trim()));
            const p3 = document.getElementById('tri3').value.split(',').map(x => parseFloat(x.trim()));
            
            if (p1.length !== 2 || p2.length !== 2 || p3.length !== 2) {
                return alert('Format invalide. Utilisez: lat, lon');
            }

            const centerLat = (p1[0] + p2[0] + p3[0]) / 3;
            const centerLon = (p1[1] + p2[1] + p3[1]) / 3;

            showResult('triResult', `üî∫ TRIANGULATION

Point central estim√©:
Latitude:  ${centerLat.toFixed(6)}
Longitude: ${centerLon.toFixed(6)}

Points de r√©f√©rence:
P1: ${p1[0]}, ${p1[1]}
P2: ${p2[0]}, ${p2[1]}
P3: ${p3[0]}, ${p3[1]}

Pr√©cision: Moyenne arithm√©tique des 3 points
`);

            initMap();
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            
            [p1, p2, p3].forEach((p, i) => {
                markers.push(L.marker(p).addTo(map).bindPopup(`Point ${i+1}`));
            });
            markers.push(L.marker([centerLat, centerLon]).addTo(map)
                .bindPopup('<b>Centre triangul√©</b>'));
            
            L.polygon([p1, p2, p3], {color: '#667eea'}).addTo(map);
            map.fitBounds([p1, p2, p3]);
        }

        // RADIO
        function analyzeFrequency() {
            const freq = parseFloat(document.getElementById('frequency').value);
            document.getElementById('freqDisplay').textContent = freq.toFixed(1) + ' MHz';
            
            let band = '';
            let usage = '';
            
            if (freq >= 0.535 && freq <= 1.705) {
                band = 'AM - Ondes Moyennes';
                usage = 'Radio AM commerciale';
            } else if (freq >= 3 && freq <= 30) {
                band = 'HF - Ondes Courtes';
                usage = 'Communications longue distance, radio amateur';
            } else if (freq >= 88 && freq <= 108) {
                band = 'FM - VHF Band II';
                usage = 'Radio FM commerciale';
            } else if (freq >= 144 && freq <= 148) {
                band = 'VHF - Bande 2m';
                usage = 'Radio amateur VHF';
            } else if (freq >= 430 && freq <= 440) {
                band = 'UHF - Bande 70cm';
                usage = 'Radio amateur UHF';
            } else if (freq >= 118 && freq <= 137) {
                band = 'VHF Aviation';
                usage = 'Communications a√©ronautiques';
            } else if (freq >= 156 && freq <= 174) {
                band = 'VHF Maritime';
                usage = 'Communications maritimes';
            } else {
                band = 'Autre';
                usage = 'Fr√©quence non identifi√©e dans les bandes communes';
            }

            const wavelength = (300 / freq).toFixed(2);

            showResult('freqInfo', `üì° ANALYSE DE FR√âQUENCE

Fr√©quence: ${freq} MHz
Longueur d'onde: ${wavelength} m√®tres
Bande: ${band}
Usage typique: ${usage}

Caract√©ristiques de propagation:
${freq < 30 ? '- Propagation ionosph√©rique possible\n- Port√©e potentielle: mondiale' : ''}
${freq >= 30 && freq < 300 ? '- Propagation ligne de vue\n- Port√©e: locale/r√©gionale' : ''}
${freq >= 300 ? '- Propagation strictement ligne de vue\n- Port√©e: limit√©e' : ''}
`);
        }

        function startSignalScan() {
            const canvas = document.getElementById('signalCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = 300;
            
            let x = 0;
            const signals = [];
            
            signalInterval = setInterval(() => {
                const signal = Math.random() * 100;
                signals.push(signal);
                if (signals.length > 100) signals.shift();
                
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.strokeStyle = '#00ff00';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                signals.forEach((s, i) => {
                    const x = (i / signals.length) * canvas.width;
                    const y = canvas.height - (s / 100) * canvas.height;
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                
                ctx.stroke();
                
                document.getElementById('signalLevel').style.width = signal + '%';
                
                showResult('signalResult', `Signal d√©tect√©: ${signal.toFixed(1)}%\nFr√©quence centrale: ${(144 + Math.random()).toFixed(3)} MHz`);
            }, 100);
        }

        function stopSignalScan() {
            if (signalInterval) {
                clearInterval(signalInterval);
                showResult('signalResult', 'Scan arr√™t√©.');
            }
        }

        function analyzeRadioBlanks() {
            const duration = parseInt(document.getElementById('blankDuration').value);
            const blanks = [];
            
            for (let i = 0; i < Math.floor(duration / 10); i++) {
                if (Math.random() > 0.7) {
                    blanks.push({
                        start: i * 10,
                        duration: Math.floor(Math.random() * 5) + 1
                    });
                }
            }

            let result = `üîá ANALYSE DES BLANCS RADIO\n\nDur√©e totale: ${duration}s\nBlancs d√©tect√©s: ${blanks.length}\n\n`;
            
            blanks.forEach((b, i) => {
                result += `Blanc ${i+1}: ${b.start}s - ${b.start + b.duration}s (${b.duration}s)\n`;
            });

            result += `\nüí° Les blancs peuvent indiquer:\n- Changements d'op√©rateur\n- Pauses programm√©es\n- Probl√®mes techniques\n- Pattern de communication`;

            showResult('blanksResult', result);
        }

        function calculateRadioRange() {
            const h1 = parseFloat(document.getElementById('txHeight').value);
            const h2 = parseFloat(document.getElementById('rxHeight').value);
            const freq = parseFloat(document.getElementById('radioFreq').value);
            
            const d1 = 4.12 * Math.sqrt(h1);
            const d2 = 4.12 * Math.sqrt(h2);
            const range = d1 + d2;

            showResult('rangeResult', `üì° PORT√âE RADIO CALCUL√âE

Hauteur √©metteur: ${h1} m
Hauteur r√©cepteur: ${h2} m
Fr√©quence: ${freq} MHz

Port√©e th√©orique (ligne de vue): ${range.toFixed(2)} km
Port√©e th√©orique: ${(range * 0.621371).toFixed(2)} miles

Horizon radio √©metteur: ${d1.toFixed(2)} km
Horizon radio r√©cepteur: ${d2.toFixed(2)} km

‚ö†Ô∏è Conditions id√©ales (pas d'obstacles)
‚ö†Ô∏è La port√©e r√©elle d√©pend du terrain, m√©t√©o, puissance
`);
        }

        // IMAGE
        function extractEXIF() {
            const file = document.getElementById('imageFile').files[0];
            if (!file) return alert('S√©lectionnez une image');

            showResult('exifResult', `üì∏ SIMULATION EXIF

Fichier: ${file.name}
Taille: ${(file.size / 1024).toFixed(2)} KB
Type: ${file.type}
Derni√®re modification: ${new Date(file.lastModified).toLocaleString('fr-FR')}

‚ö†Ô∏è Pour une vraie extraction EXIF, utilisez:
- exiftool (ligne de commande)
- Jeffrey's Image Metadata Viewer (en ligne)
- Analyse manuelle avec biblioth√®ques JS

Les donn√©es EXIF peuvent inclure:
- GPS (latitude/longitude)
- Date/heure de prise
- Appareil photo/mod√®le
- Param√®tres (ISO, ouverture, vitesse)
- Logiciel d'√©dition utilis√©
`);
        }

        function reverseImageSearch(engine) {
            const url = document.getElementById('imageUrl').value;
            if (!url) return alert('Entrez une URL d\'image');

            const encodedUrl = encodeURIComponent(url);
            let searchUrl = '';

            switch(engine) {
                case 'google':
                    searchUrl = `https://www.google.com/searchbyimage?image_url=${encodedUrl}`;
                    break;
                case 'yandex':
                    searchUrl = `https://yandex.com/images/search?rpt=imageview&url=${encodedUrl}`;
                    break;
                case 'tineye':
                    searchUrl = `https://tineye.com/search?url=${encodedUrl}`;
                    break;
                case 'bing':
                    searchUrl = `https://www.bing.com/images/search?view=detailv2&iss=sbi&form=SBIIRP&sbisrc=UrlPaste&q=imgurl:${encodedUrl}`;
                    break;
            }

            window.open(searchUrl, '_blank');
        }

        function analyzeShadow() {
            const angle = parseFloat(document.getElementById('shadowAngle').value);
            const ratio = parseFloat(document.getElementById('shadowRatio').value);

            if (isNaN(angle) || isNaN(ratio)) return alert('Valeurs invalides');

            const elevation = Math.atan(1 / ratio) * (180 / Math.PI);
            const hours = [
                {h: 6, e: 15}, {h: 7, e: 20}, {h: 8, e: 25},
                {h: 9, e: 35}, {h: 10, e: 45}, {h: 11, e: 55},
                {h: 12, e: 60}, {h: 13, e: 55}, {h: 14, e: 45},
                {h: 15, e: 35}, {h: 16, e: 25}, {h: 17, e: 20},
                {h: 18, e: 15}
            ];

            const closest = hours.reduce((prev, curr) => 
                Math.abs(curr.e - elevation) < Math.abs(prev.e - elevation) ? curr : prev
            );

            showResult('shadowResult', `üåÖ ANALYSE D'OMBRES

Angle de l'ombre: ${angle}¬∞
Ratio ombre/hauteur: ${ratio}

√âl√©vation solaire estim√©e: ${elevation.toFixed(1)}¬∞
Heure approximative: ${closest.h}h00

Direction de l'ombre: ${angle < 180 ? 'Nord' : 'Sud'}

‚ö†Ô∏è L'heure d√©pend de:
- La latitude
- La saison
- Le fuseau horaire
- Les obstacles environnants

üí° Utilisez SunCalc.org pour plus de pr√©cision
`);
        }

        // NETWORK
        function lookupIP() {
            const ip = document.getElementById('ipAddress').value;
            
            showResult('ipResult', `üåê LOOKUP IP: ${ip}

‚ö†Ô∏è Simulation - Utilisez des API r√©elles:
- ipapi.co/${ip}/json
- ip-api.com/json/${ip}
- ipinfo.io/${ip}

Informations typiques d'un lookup:
- Pays / R√©gion / Ville
- Latitude / Longitude
- FAI (Fournisseur)
- Organisation
- ASN (Autonomous System Number)
- Timezone

Exemple de commandes CLI:
$ curl ipinfo.io/${ip}
$ whois ${ip}
$ dig -x ${ip}
`);
        }

        function whoisLookup() {
            const domain = document.getElementById('domain').value;
            
            showResult('whoisResult', `üìã WHOIS: ${domain}

‚ö†Ô∏è Utilisez des outils WHOIS r√©els:
- whois.domaintools.com
- who.is
- whois (CLI)

Informations WHOIS typiques:
- Registrar (bureau d'enregistrement)
- Date de cr√©ation
- Date d'expiration
- Serveurs DNS
- Statut du domaine
- Contact technique/administratif

Commande: $ whois ${domain}
`);
        }

        function dnsLookup() {
            const domain = document.getElementById('domain').value;
            
            showResult('whoisResult', `üåê DNS LOOKUP: ${domain}

‚ö†Ô∏è Utilisez des outils DNS r√©els:
- dnschecker.org
- mxtoolbox.com
- dig/nslookup (CLI)

Types d'enregistrements DNS:
- A: Adresse IPv4
- AAAA: Adresse IPv6
- MX: Serveurs mail
- NS: Serveurs de noms
- TXT: Donn√©es texte (SPF, DKIM)
- CNAME: Alias

Commandes:
$ dig ${domain}
$ nslookup ${domain}
$ host ${domain}
`);
        }

        function analyzePort() {
            const port = parseInt(document.getElementById('portNumber').value);
            
            const ports = {
                21: 'FTP - File Transfer Protocol',
                22: 'SSH - Secure Shell',
                23: 'Telnet',
                25: 'SMTP - Simple Mail Transfer',
                53: 'DNS - Domain Name System',
                80: 'HTTP - Web non s√©curis√©',
                110: 'POP3 - R√©ception mail',
                143: 'IMAP - R√©ception mail',
                443: 'HTTPS - Web s√©curis√©',
                3306: 'MySQL Database',
                3389: 'RDP - Remote Desktop',
                5432: 'PostgreSQL',
                8080: 'HTTP alternatif'
            };

            const service = ports[port] || 'Port non standard ou inconnu';

            showResult('portResult', `üîå PORT ${port}

Service: ${service}

${port < 1024 ? '‚ö†Ô∏è Port bien connu (0-1023)' : 
  port < 49152 ? 'üìå Port enregistr√© (1024-49151)' : 
  'üîß Port dynamique (49152-65535)'}

Cat√©gorie: ${port < 1024 ? 'Privil√©gi√© (n√©cessite root)' : 'Non-privil√©gi√©'}

Outils de scan:
- nmap -p ${port} <target>
- netstat -an | grep ${port}
- telnet <host> ${port}

‚ö†Ô∏è Ne scannez que vos propres syst√®mes
`);
        }

        // SOCIAL
        function searchUsername() {
            const username = document.getElementById('username').value;
            if (!username) return alert('Entrez un username');

            const platforms = [
                { name: 'GitHub', url: `https://github.com/${username}` },
                { name: 'Twitter/X', url: `https://twitter.com/${username}` },
                { name: 'Instagram', url: `https://instagram.com/${username}` },
                { name: 'Reddit', url: `https://reddit.com/user/${username}` },
                { name: 'YouTube', url: `https://youtube.com/@${username}` },
                { name: 'TikTok', url: `https://tiktok.com/@${username}` },
                { name: 'LinkedIn', url: `https://linkedin.com/in/${username}` },
                { name: 'Twitch', url: `https://twitch.tv/${username}` },
                { name: 'Discord', url: `https://discord.com/users/${username}` },
                { name: 'Telegram', url: `https://t.me/${username}` }
            ];

            let result = `üë§ RECHERCHE USERNAME: ${username}\n\n`;
            result += 'Cliquez pour v√©rifier la pr√©sence:\n\n';
            
            platforms.forEach(p => {
                result += `${p.name}: ${p.url}\n`;
            });

            result += `\nüí° Outils recommand√©s:\n- Sherlock (CLI)\n- Namechk.com\n- WhatsMyName.app\n- Maigret (CLI)`;

            showResult('usernameResult', result);

            platforms.slice(0, 3).forEach(p => {
                setTimeout(() => window.open(p.url, '_blank'), 500);
            });
        }

        function analyzeTwitter() {
            const handle = document.getElementById('twitterHandle').value.replace('@', '');
            if (!handle) return alert('Entrez un handle');

            showResult('twitterResult', `ùïè ANALYSE TWITTER: @${handle}

Profil: https://twitter.com/${handle}
Nitter (frontend alternatif): https://nitter.net/${handle}

Outils d'analyse Twitter:
- Tweetdeck
- Social Bearing
- Foller.me
- TweetBeaver
- Twitter Advanced Search

Donn√©es analysables:
- Tweets / Retweets / Likes
- Followers / Following
- Date de cr√©ation du compte
- Localisation (si renseign√©e)
- Liens externes
- Patterns de tweet (heures, fr√©quence)
- Interactions r√©currentes

‚ö†Ô∏è Respectez la vie priv√©e et les ToS
`);

            window.open(`https://twitter.com/${handle}`, '_blank');
        }

        // CRYPTO
        function decode(type) {
            const text = document.getElementById('encodedText').value;
            if (!text) return alert('Entrez du texte');

            let result = '';

            try {
                switch(type) {
                    case 'base64':
                        result = atob(text);
                        break;
                    case 'hex':
                        result = text.match(/.{1,2}/g).map(byte => 
                            String.fromCharCode(parseInt(byte, 16))
                        ).join('');
                        break;
                    case 'rot13':
                        result = text.replace(/[a-zA-Z]/g, c => 
                            String.fromCharCode((c <= 'Z' ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26)
                        );
                        break;
                    case 'morse':
                        const morse = {
                            '.-': 'A', '-...': 'B', '-.-.': 'C', '-..': 'D', '.': 'E',
                            '..-.': 'F', '--.': 'G', '....': 'H', '..': 'I', '.---': 'J',
                            '-.-': 'K', '.-..': 'L', '--': 'M', '-.': 'N', '---': 'O',
                            '.--.': 'P', '--.-': 'Q', '.-.': 'R', '...': 'S', '-': 'T',
                            '..-': 'U', '...-': 'V', '.--': 'W', '-..-': 'X', '-.--': 'Y',
                            '--..': 'Z', '-----': '0', '.----': '1', '..---': '2',
                            '...--': '3', '....-': '4', '.....': '5', '-....': '6',
                            '--...': '7', '---..': '8', '----.': '9'
                        };
                        result = text.split(' ').map(code => morse[code] || '?').join('');
                        break;
                    case 'binary':
                        result = text.split(' ').map(bin => 
                            String.fromCharCode(parseInt(bin, 2))
                        ).join('');
                        break;
                }

                showResult('decodeResult', `üîì D√âCODAGE ${type.toUpperCase()}\n\nR√©sultat:\n${result}\n\nOriginal:\n${text}`);
            } catch(e) {
                showResult('decodeResult', `‚ùå Erreur de d√©codage: ${e.message}\n\nV√©rifiez le format d'entr√©e`);
            }
        }

        function identifyHash() {
            const hash = document.getElementById('hashInput').value.trim();
            const len = hash.length;

            let type = 'Inconnu';
            if (len === 32 && /^[a-f0-9]+$/i.test(hash)) type = 'MD5';
            else if (len === 40 && /^[a-f0-9]+$/i.test(hash)) type = 'SHA-1';
            else if (len === 64 && /^[a-f0-9]+$/i.test(hash)) type = 'SHA-256';
            else if (len === 128 && /^[a-f0-9]+$/i.test(hash)) type = 'SHA-512';
            else if (hash.startsWith('$2a
            ) || hash.startsWith('$2b
            )) type = 'bcrypt';
            else if (hash.startsWith('$6
            )) type = 'SHA-512 crypt';

            showResult('hashResult', `üîç IDENTIFICATION HASH

Hash: ${hash}
Longueur: ${len} caract√®res
Type probable: ${type}

${type === 'MD5' ? '‚ö†Ô∏è MD5 est obsol√®te et non s√©curis√©' : ''}
${type === 'SHA-1' ? '‚ö†Ô∏è SHA-1 est d√©conseill√©' : ''}

Outils de cracking (l√©gal uniquement):
- hashcat
- john (John the Ripper)
- CrackStation (en ligne)
- Hash-Identifier
`);
        }

        function generateHash() {
            const text = document.getElementById('textToHash').value;
            if (!text) return alert('Entrez du texte');

            const encoder = new TextEncoder();
            const data = encoder.encode(text);

            crypto.subtle.digest('SHA-256', data).then(hashBuffer => {
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const sha256 = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

                let md5Sim = '';
                for(let i = 0; i < 32; i++) {
                    md5Sim += Math.floor(Math.random() * 16).toString(16);
                }

                showResult('hashGenResult', `üîí HASH G√âN√âR√â

Texte original: ${text}

SHA-256:
${sha256}

MD5 (simul√© - utilisez une vraie lib):
${md5Sim}

‚ö†Ô∏è Pour MD5/SHA-1 r√©els, utilisez:
- CryptoJS
- Node.js crypto
- OpenSSL CLI
`);
            });
        }

        // METADATA
        function analyzeURL() {
            const url = document.getElementById('urlToAnalyze').value;
            if (!url) return alert('Entrez une URL');

            try {
                const parsed = new URL(url);
                const params = new URLSearchParams(parsed.search);
                let paramList = '';
                params.forEach((value, key) => {
                    paramList += `  ${key} = ${value}\n`;
                });

                showResult('urlResult', `üîó ANALYSE URL

URL compl√®te: ${url}

Protocole: ${parsed.protocol}
Domaine: ${parsed.hostname}
Port: ${parsed.port || '(d√©faut)'}
Chemin: ${parsed.pathname}
Param√®tres: ${params.toString() || '(aucun)'}
${paramList ? '\nD√©tail param√®tres:\n' + paramList : ''}
Fragment: ${parsed.hash}

Encodage: ${decodeURIComponent(url) !== url ? 'Pr√©sent' : 'Aucun'}
`);
            } catch(e) {
                showResult('urlResult', `‚ùå URL invalide: ${e.message}`);
            }
        }

        function extractEmails() {
            const text = document.getElementById('emailText').value;
            if (!text) return alert('Entrez du texte');

            const emailRegex = /[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+/gi;
            const emails = text.match(emailRegex) || [];
            const unique = [...new Set(emails)];

            showResult('emailResult', `üìß EMAILS EXTRAITS

Trouv√©s: ${unique.length} email(s) unique(s)
Total: ${emails.length} occurrence(s)

${unique.map(e => `- ${e}`).join('\n')}

${unique.length > 0 ? '\nüí° V√©rification email:\n- hunter.io\n- verify-email.org\n- emailhippo.com' : ''}
`);
        }

        function convertUnixTime() {
            const timestamp = parseInt(document.getElementById('unixTime').value);
            if (isNaN(timestamp)) return alert('Timestamp invalide');

            const date = new Date(timestamp * 1000);

            showResult('timeResult', `‚è∞ CONVERSION TIMESTAMP

Unix timestamp: ${timestamp}

Date/heure:
${date.toLocaleString('fr-FR')}

UTC: ${date.toUTCString()}
ISO: ${date.toISOString()}

Ann√©e: ${date.getFullYear()}
Mois: ${date.getMonth() + 1}
Jour: ${date.getDate()}
Heure: ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}
`);
        }

        function getCurrentTime() {
            const now = Math.floor(Date.now() / 1000);
            document.getElementById('unixTime').value = now;
            convertUnixTime();
        }

        // Init
        setTimeout(initMap, 500);
    </script>
</body>
</html>
